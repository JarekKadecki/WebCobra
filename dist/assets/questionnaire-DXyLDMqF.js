import{j as e,r as s,c as t,R as n}from"./client-DcDfWwca.js";import"./phaser-DZy_kcLU.js";const o=({question:s,questionKey:t,onAnswer:n})=>e.jsxs("div",{className:"question-block",children:[e.jsx("h3",{children:s.title}),s.answers.map(((s,o)=>e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:t,value:s,onChange:()=>n(t,s)}),s,e.jsx("br",{})]},o)))]}),i=()=>{const[t,n]=s.useState([]),[i,r]=s.useState({});s.useEffect((()=>{(async()=>{const e=await fetch("/api/get_questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),s=await e.json();e.ok?console.log(`Question received ${JSON.stringify(s.questions)}`):console.error("Could not fetch questions."),n(s.questions);const t={};s.questions.forEach(((e,s)=>{t[`q${s+1}`]="unanswered"})),r(t)})()}),[]);const a=(e,s)=>{r((t=>({...t,[e]:s})))};return e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),await fetch("/api/submit_answers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}),alert("Answers submitted!")},children:[t.map(((s,t)=>e.jsx(o,{question:s,questionKey:`q${Number(t)+1}`,onAnswer:a},`q${Number(t)+1}`))),t.length>0&&e.jsx("button",{type:"submit",children:"Submit"})]})};t.createRoot(document.getElementById("root")).render(e.jsx(n.StrictMode,{children:e.jsx(i,{})}));
